(this["webpackJsonpgithub-commit-activity-explorer"]=this["webpackJsonpgithub-commit-activity-explorer"]||[]).push([[0],{103:function(e,t,n){},104:function(e,t,n){},205:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),s=n(31),i=n.n(s),o=(n(86),n(87),n(9)),l=n(74),u=n(35),d=n(33),j=n(5),p=n(75),b=n.n(p),h=n(18),m=n.n(h),f=n(14),v=n(32);!function(e){e.development="development",e.test="test",e.production="production"}(a||(a={}));var O={development:{env:a.development,githubToken:"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"},test:{env:a.test,githubToken:"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"},production:{env:a.production,githubToken:"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"}}.production,x=Object(u.b)({name:"githubSearch",initialState:{list:{}},reducers:{addInitialDataToList:function(e,t){var n=t.payload,a=n.initialData.full_name,r=n.isLoading,c=n.error;e.list[a]=t.payload,e.list[a].isLoading=r,e.list[a].error=c},setLoading:function(e,t){var n=t.payload;e.list[n].isLoading=!1,e.list[n].error=""},setError:function(e,t){var n=t.payload,a=n.fullName,r=n.error;e.list[a].error=r},setStatData:function(e,t){var n=t.payload,a=n.stats,r=n.full_name;e.list[r].stats=a,e.list[r].isLoading=!1,e.list[r].error=""},setHover:function(e,t){for(var n=Object.keys(e.list),a=0;a<n.length;a++)e.list[n[a]].hoverState=!1;e.list[t.payload].hoverState=!0},setHoverOut:function(e,t){e.list[t.payload].hoverState=!1},setParentHover:function(e){e.hoverOnList=!0},setParentHoverOut:function(e){e.hoverOnList=!1},deleteStat:function(e,t){delete e.list[t.payload]}}}),g=x.actions,y=x.reducer,N=g.addInitialDataToList,k=(g.setLoading,g.setError),L=g.deleteStat,S=g.setHover,w=g.setHoverOut,C=g.setParentHover,M=g.setParentHoverOut,T=g.setStatData,D=y,W={key:"root",storage:b.a,whitelist:["statsList"]},E=Object(j.b)({statsList:D}),_=Object(d.a)(W,E),F=Object(u.a)({reducer:_,middleware:function(e){return e({serializableCheck:!1})}}),B=Object(d.b)(F),A=n(10),H=n(13),R=(n(95),n(76)),I=n.n(R);var z=n(1);function P(){var e=Object(o.b)(),t=O.githubToken,n=Object(r.useState)([]),a=Object(A.a)(n,2),c=a[0],s=a[1],i=Object(r.useState)(""),l=Object(A.a)(i,2),u=l[0],d=l[1],j=Object(r.useState)(!1),p=Object(A.a)(j,2),b=p[0],h=p[1],x=Object(r.useState)(!1),g=Object(A.a)(x,2),y=g[0],L=g[1],S=Object(r.useRef)(null),w=function(e){var t=Object(r.useRef)(),n=Object(r.useRef)();return Object(r.useEffect)((function(){t.current=e})),Object(r.useEffect)((function(){return document.addEventListener("click",e),function(){return document.removeEventListener("click",e)};function e(e){n.current&&t.current&&!n.current.contains(e.target)&&t.current(e)}}),[]),n}((function(e){"input"!=e.target.localName&&L(!0)})),C=I()(function(){var e=Object(v.a)(m.a.mark((function e(n){var a,r,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.target.value,d(a),a&&!(a.length<3)){e.next=5;break}return s([]),e.abrupt("return");case 5:return h(!0),s([]),e.next=9,fetch("https://api.github.com/search/repositories?q=".concat(a),{headers:{"Content-Type":"application/json",Accept:"application/vnd.github.v3+json",Authorization:"token ".concat(t)}});case 9:return r=e.sent,e.next=12,r.json();case 12:c=e.sent,h(!1),s(c.items);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),400);Object(r.useEffect)((function(){L(!1)}),[u]);var M=function(t){e(function(e){var t=e.fullName;return function(){var n=Object(v.a)(m.a.mark((function n(a){var r,c;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a(N(Object(f.a)({},e))),n.next=4,fetch("https://api.github.com/repos/".concat(t,"/stats/commit_activity"),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/vnd.github.v3+json",Authorization:"token ".concat(O.githubToken)}});case 4:return r=n.sent,n.next=7,r.json();case 7:c=n.sent,a(T({stats:c,full_name:t})),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(0),console.log(n.t0),a(k({fullName:t,error:"Some server/network error happened."}));case 15:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}()}({fullName:t.full_name,initialData:t,isLoading:!0,error:"",stats:[],color:U(),hoverState:!1})),S&&S.current&&(S.current.value=""),d("")};return Object(z.jsx)(z.Fragment,{children:Object(z.jsxs)("div",{className:"searchInputInnerWrapper",children:[Object(z.jsx)("input",{onClick:function(){L(!1)},ref:S,onChange:function(e){C(e)},type:"text",placeholder:"Search a Github Repository..."}),Object(z.jsx)("div",{className:"iconWrapper px-12",children:Object(z.jsx)(H.a,{size:"18px"})}),Object(z.jsxs)("div",{className:"autocompleteWrapper",children:[b&&Object(z.jsx)("div",{className:"flex justify-content-center py-20",children:"loading..."}),!b&&u&&(null===c||void 0===c?void 0:c.length)>0&&!y&&Object(z.jsx)(z.Fragment,{children:Object(z.jsx)("div",{className:"buttonWrapper",children:c.map((function(e,t){var n=e.full_name,a=e.id,r=n.split("/")[0],c=n.split("/")[1].split(new RegExp("(".concat(u,")"),"gi"));return Object(z.jsxs)("button",{className:"flex align-items-center",ref:w,onClick:function(){M(e)},onKeyDown:function(){M(e)},children:[Object(z.jsx)("p",{className:"text-gray",children:r}),Object(z.jsx)("span",{className:"mx-2 text-gray",children:"/"}),Object(z.jsx)("span",{className:"specialTruncate",children:c.map((function(e,t){return e.toLowerCase()===u.toLowerCase()?Object(z.jsx)("b",{children:e},t):e}))})]},"".concat(a,"-").concat(t))}))})})]})]})})}function U(){for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e}n(103),n(104);var q=n(81);function G(){var e=Object(o.c)((function(e){return e.statsList})),t=e.list,n=void 0===t?[]:t,a=e.hoverOnList,r=Object(o.b)();return Object(z.jsx)(z.Fragment,{children:Object(z.jsxs)("div",{className:"repoListWrapper",role:"presentation",onMouseEnter:function(){r(C())},onMouseLeave:function(){r(M())},children:[Object.values(n).length>0&&Object(z.jsx)(z.Fragment,{children:Object.values(n).map((function(e){var t=e.initialData,n=e.color,c=(e.isLoading,e.hoverState),s=t.full_name,i=t.stargazers_count,o=void 0===i?0:i,l=t.updated_at,u=s.split("/")[0],d=s.split("/")[1],j=Object(q.a)(new Date(l),new Date,{addSuffix:!0});return Object(z.jsx)("button",{className:"coloredBg my-15 cursor-pointer ".concat(a&&c?"hovered":""," ").concat(a&&!c?"dimmed":""),onMouseEnter:function(){r(S(s))},onMouseLeave:function(){r(w(s))},style:{background:n},children:Object(z.jsx)("div",{className:"repoWrapper w-100",children:Object(z.jsxs)("div",{className:"flex w-100 repoButton justify-content-space-between align-items-center cursor-pointer",children:[Object(z.jsxs)("div",{className:"flex flex-column",children:[Object(z.jsxs)("div",{className:"flex",children:[Object(z.jsx)("p",{className:" m-0",children:u}),Object(z.jsx)("span",{className:"mx-2",children:"/"}),Object(z.jsx)("b",{className:"specialTruncate text-white",children:d})]}),Object(z.jsxs)("div",{className:"flex mt-6",children:[Object(z.jsx)("div",{className:"mr-2",children:Object(z.jsx)(H.b,{})}),Object(z.jsx)("div",{className:"text-white",children:Object(z.jsx)("b",{children:Z(o)})}),Object(z.jsxs)("div",{className:"mx-5",children:["Updated ",j]})]})]}),Object(z.jsx)("div",{className:"flex justify-items-center align-items-center",children:Object(z.jsx)("div",{onClick:function(){r(L(s))},role:"presentation",className:"noButtonStyles cursor-pointer",children:Object(z.jsx)(H.c,{size:"18px"})})})]})})},s)}))}),0===Object.values(n).length&&Object(z.jsxs)("div",{className:"emptyResultWrapper py-40 mt-20",children:[Object(z.jsx)("div",{className:"flex justify-content-center",children:Object(z.jsx)(H.a,{size:"40px"})}),Object(z.jsx)("div",{className:"flex justify-content-center textWrapper mx-auto text-center",children:Object(z.jsx)("p",{children:"Search for a GitHub repository to populate graph"})})]})]})})}function Z(e){return Intl.NumberFormat("en",{notation:"compact"}).format(e)}var J=n(79),K=n(80),Q={labels:[],data:[]},V={tension:.3,animation:{duration:0},hover:{animationDuration:0},responsiveAnimationDuration:0,scaleLineColor:"red",plugins:{tooltip:{backgroundColor:"white",titleColor:"black",bodyColor:"black"}},scales:{x:{grid:{display:!1},ticks:{display:!1}},y:{grid:{display:!1},ticks:{}}}};function X(){var e=Object(o.c)((function(e){return e.statsList})),t=e.list,n=void 0===t?{}:t,a=e.hoverOnList,r=[],c=[],s=Object.values(n);if(!s.length)return Object(z.jsx)(z.Fragment,{});for(var i=0;i<s[0].stats.length;i++){var l=s[0].stats[i];r.push("week of ".concat(Object(K.a)(1e3*l.week,"MMM dd, yyyy")))}Q.labels=r;for(var u=0;u<s.length;u++){for(var d=s[u],j=d.hoverState,p={label:d.initialData.full_name,data:[],fill:!1,backgroundColor:Y(d.color,a&&!j?.1:1),borderColor:Y(d.color,a&&!j?.1:1)},b=0;b<d.stats.length;b++)p.data.push(d.stats[b].total);c.push(p)}return Q.datasets=c,Object(z.jsx)(z.Fragment,{children:Object(z.jsx)("div",{className:"chartWrapper w-100",children:Object(z.jsx)(J.a,{data:Q,options:V})},"".concat(Math.random()))})}function Y(e,t){return e+Math.round(255*Math.min(Math.max(t||1,0),1)).toString(16).toUpperCase()}function $(){return Object(z.jsxs)("div",{className:"mainPageWrapper",children:[Object(z.jsx)("section",{className:"graphWrapper",children:Object(z.jsx)("div",{className:"flex w-100 align-items-center h-100",children:Object(z.jsx)(X,{})})}),Object(z.jsx)("aside",{className:"sideBar",children:Object(z.jsxs)("div",{className:"p-20",children:[Object(z.jsx)("div",{className:"searchInputWrapper",children:Object(z.jsx)(P,{})}),Object(z.jsx)(G,{})]})})]})}function ee(){return Object(z.jsx)(o.a,{store:F,children:Object(z.jsx)(l.a,{loading:null,persistor:B,children:Object(z.jsx)($,{})})})}var te=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,206)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};i.a.render(Object(z.jsx)(c.a.StrictMode,{children:Object(z.jsx)(ee,{})}),document.getElementById("root")),te()},86:function(e,t,n){},87:function(e,t,n){},95:function(e,t,n){}},[[205,1,2]]]);
//# sourceMappingURL=main.8be84251.chunk.js.map